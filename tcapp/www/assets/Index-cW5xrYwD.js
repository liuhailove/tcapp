import{p as R,l as U,m as F,n as H,t as T,q as G,d as J,g as l,s as W,v as X,P as Y,H as Z,I as x,x as ee,r as m,y as V,o as d,b,i as S,j as I,z as $,w as B,F as L,f as i,A,c as f,e as te,B as D,h as N,C as oe,D as ne,E as ae,G as se,J as K,L as M,a as q,M as C,N as le,O as ce,Q as ie,R as re,S as he}from"./index-ppyL6sTA.js";/* empty css              *//* empty css              */import{_ as de}from"./Index.vue_vue_type_script_setup_true_lang-EgjRkrQC.js";/* empty css              */import{_ as P}from"./_plugin-vue_export-helper-x3n3nnut.js";/* empty css              */const pe=n=>n==null?void 0:n.includes("/"),ue=[...R,"round","closeOnPopstate","safeAreaInsetBottom"],me={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[_e,u,ve]=U("share-sheet"),fe=F({},H,{title:String,round:T,options:G(),cancelText:String,description:String,closeOnPopstate:T,safeAreaInsetBottom:T});var Se=J({name:_e,props:fe,emits:["cancel","select","update:show"],setup(n,{emit:e,slots:a}){const c=o=>e("update:show",o),_=()=>{c(!1),e("cancel")},p=(o,r)=>e("select",o,r),s=()=>{const o=a.title?a.title():n.title,r=a.description?a.description():n.description;if(o||r)return l("div",{class:u("header")},[o&&l("h2",{class:u("title")},[o]),r&&l("span",{class:u("description")},[r])])},h=o=>pe(o)?l("img",{src:o,class:u("image-icon")},null):l("div",{class:u("icon",[o])},[l(x,{name:me[o]||o},null)]),v=(o,r)=>{const{name:g,icon:Q,className:j,description:z}=o;return l("div",{role:"button",tabindex:0,class:[u("option"),j,Z],onClick:()=>p(o,r)},[h(Q),g&&l("span",{class:u("name")},[g]),z&&l("span",{class:u("option-description")},[z])])},t=(o,r)=>l("div",{class:u("options",{border:r})},[o.map(v)]),w=()=>{const{options:o}=n;return Array.isArray(o[0])?o.map((r,g)=>t(r,g!==0)):t(o)},k=()=>{var o;const r=(o=n.cancelText)!=null?o:ve("cancel");if(a.cancel||r)return l("button",{type:"button",class:u("cancel"),onClick:_},[a.cancel?a.cancel():r])};return()=>l(Y,W({class:u(),position:"bottom","onUpdate:show":c},X(n,ue)),{default:()=>[s(),w(),k()]})}});const we=ee(Se),ke={__name:"Share",props:{shareSheetShow:{type:Boolean,default:!1}},setup(n){const e=n,a=m(e.shareSheetShow);console.info("innerShareShow:"+e.shareSheetShow);const c=[[{name:"微信",icon:"wechat"},{name:"QQ",icon:"qq"},{name:"复制链接",icon:"link"}]],_=p=>{if(p.name==="复制链接"){let s="https://snowcyans.github.io/QQShortVideo/#/";navigator.clipboard.writeText(s),$("复制成功"),a.value=!1}else $("暂未开放")};return V(()=>{console.info("watchEffect shareShow:"+e.shareSheetShow),a.value=e.shareSheetShow}),(p,s)=>{const h=we;return d(),b(h,{onSelect:_,show:S(a),"onUpdate:show":s[0]||(s[0]=v=>I(a)?a.value=v:null),overlay:!0,title:"立即分享",options:c},null,8,["show"])}}},O=n=>(K("data-v-8f60a97c"),n=n(),M(),n),Ce=["src"],be={key:0},ge={key:1,style:{color:"gray"}},Ie={key:2},xe=O(()=>i("div",{class:"chatSplit"},null,-1)),ye={class:"chatValue"},Te=O(()=>i("p",null,"发送",-1)),$e=[Te],Be={__name:"Chat",props:{chatIsShow:{type:Boolean,default:!1}},setup(n){const e=n,a=m(e.chatIsShow);m(0);let c=m("");m(!1);let _=[{chatImg:"",name:"chat1",flag:!0,chatLikeShow:!0,chatText:"你好"},{chatImg:"",name:"chat2",flag:!0,chatLikeShow:!0,chatText:"你好2"},{chatImg:"",name:"chat3",flag:!0,chatLikeShow:!1,chatText:"你好3"}];return V(()=>{console.info("watchEffect chatIsShow:"+e.chatIsShow),a.value=e.chatIsShow}),(p,s)=>{const h=x,v=se;return d(),b(v,{show:S(a),"onUpdate:show":s[4]||(s[4]=t=>I(a)?a.value=t:null),overlay:!1,title:"评论"},{default:B(()=>[(d(!0),f(L,null,N(S(_),(t,w)=>(d(),f("div",{class:"chatContent",key:w},[i("img",{src:t.chatImg,alt:""},null,8,Ce),i("div",null,[i("i",null,A(t.name)+"}",1),t.flag?(d(),f("span",be,"作者")):te("",!0),t.chatTextShow?(d(),f("p",ge,"！[该评论已被隐藏]")):(d(),f("p",Ie,A(t.chatText),1))]),i("div",null,[l(h,{onClick:k=>p.handleChatLike(t),name:t.chatLikeShow?"like":"like-o",size:"16",color:t.chatLikeShow?"#f9476f":""},null,8,["onClick","name","color"]),D("    "),l(h,{onClick:k=>t.chatTextShow=!t.chatTextShow,name:t.chatTextShow?"eye":"closed-eye",size:"16"},null,8,["onClick","name"])])]))),128)),xe,i("div",ye,[i("div",null,[l(h,{name:"photo-o",onClick:s[0]||(s[0]=t=>S($)("暂未开放"))}),ae(i("input",{type:"text",onKeyup:s[1]||(s[1]=oe(t=>p.publish(),["enter"])),"onUpdate:modelValue":s[2]||(s[2]=t=>I(c)?c.value=t:c=t),placeholder:"善语结善缘，恶言伤人心"},null,544),[[ne,S(c),void 0,{trim:!0}]]),i("div",{onClick:s[3]||(s[3]=t=>p.publish())},$e)])])]),_:1},8,["show"])}}},Ae=P(Be,[["__scopeId","data-v-8f60a97c"]]),qe={props:{sidebarVisible:{type:Boolean,required:!0}},components:{ShareSheet:ke,Chat:Ae},setup(n){const e=m(!1);let a=m(!1);const c=m(n.sidebarVisible);return V(()=>{console.info("watchEffect:"+n.sidebarVisible),c.value=n.sidebarVisible}),{leftSidebarVisible:c,shareShow:e,chatShow:a,handleAddCol:()=>{},handleShare:()=>{console.info("handleShare:"+e.value),e.value=!e.value},handleChat:()=>{a.value=!a.value},handleLike:w=>{},handlecollection:w=>{},jump:()=>{}}}},y=n=>(K("data-v-67ca8f90"),n=n(),M(),n),Ve={class:"right-info"},Le=y(()=>i("p",null,"100",-1)),Pe=y(()=>i("p",null,"200",-1)),ze=y(()=>i("p",null,"300",-1)),Ee=y(()=>i("p",null,"66",-1));function De(n,e,a,c,_,p){const s=x,h=q("ShareSheet"),v=q("Chat");return d(),f(L,null,[i("div",Ve,[i("img",{onClick:e[0]||(e[0]=C(t=>c.jump(),["stop"])),alt:""}),i("div",{onClick:e[1]||(e[1]=t=>c.handleAddCol()),class:"addCol"},[l(s,{name:"plus",size:"14",color:"#1989fa"})]),i("div",null,[l(s,{onClick:e[2]||(e[2]=C(t=>c.handleLike(n.i),["stop"])),name:"like",size:"30",color:"#f9476f"}),Le]),i("div",null,[l(s,{onClick:e[3]||(e[3]=C(t=>c.handleChat(),["stop"])),name:"chat",size:"30",color:"#B3C0D1"}),Pe]),i("div",null,[l(s,{onClick:e[4]||(e[4]=C(t=>c.handlecollection(n.i),["stop"])),name:"star",size:"30",color:"#ffb701"}),ze]),i("div",null,[l(s,{onClick:e[5]||(e[5]=C(t=>c.handleShare(),["stop"])),name:"share",size:"30",color:"#1989fa"}),Ee])]),l(h,{shareSheetShow:c.shareShow},null,8,["shareSheetShow"]),l(v,{chatIsShow:c.chatShow},null,8,["chatIsShow"])],64)}const Ne=P(qe,[["render",De],["__scopeId","data-v-67ca8f90"]]),E={__name:"Index",setup(n){return(e,a)=>(d(),b(Ne))}},Ke={id:"home-container"},Me={id:"top-bar"},Oe={class:"content"},Qe={__name:"Index",setup(n){const e=m(0),a=m(E),c=s=>{console.info("handleTabClick:"+s),s==="/live"?a.value=E:a.value=de};le(()=>{ce(()=>{p()})});const _=m([]),p=()=>{_.value=[{name:"app",title:"",icon:"apps-o",to:"/app",id:1},{name:"hot",title:"热点",icon:"",to:"/hot",id:2},{name:"live",title:"直播",icon:"",to:"/live",id:3},{name:"mall",title:"电商",icon:"",to:"/mall",id:4},{name:"recommend",title:"推荐",icon:"",to:"/recommand",id:5},{name:"search",title:"",icon:"search",to:"/search",id:6},{name:"setting",title:"",icon:"setting-o",to:"/setting",id:7}]};return(s,h)=>{const v=x,t=he,w=re,k=q("router-view");return d(),f("div",Ke,[i("div",Me,[l(w,{active:S(e),"onUpdate:active":h[0]||(h[0]=o=>I(e)?e.value=o:null),onChange:c,sticky:""},{default:B(()=>[(d(!0),f(L,null,N(S(_),(o,r)=>(d(),b(t,{name:o.to},{title:B(()=>[l(v,{name:o.icon},null,8,["name"]),D(" "+A(o.title),1)]),_:2},1032,["name"]))),256))]),_:1},8,["active"]),l(k)]),i("div",Oe,[(d(),b(ie(S(a))))])])}}},We=P(Qe,[["__scopeId","data-v-5b0e950c"]]);export{We as default};
